version: '3.1'

intents:
- affirm
- bot_challenge
- bot_goal

- deny
- goodbye
- greet
- inform
- mood_great
- mood_unhappy

- im_not_looking_for_job_nor_for_candidate

##  looking for a job
- looking_for_job
- job_description

- provide_job_title
- provide_job_country
- provide_job_salary

##  looking for a candidate

- looking_for_candidate
- candidate_role

- looking_for_something_else

- ask_to_know_more_about_candidate
- ask_to_know_more_about_job

- confirm_candidate
- confirm_candidate_reachout

- redo_candidate_profile
- request_looking_for_candidate_form

- remote
- in_place

- full_time
- part_time
- internship

- junior
- senior
- expert

- want_stop_conversation


entities:
- job_characteristics
- candidate_experience
- candidate_education
- candidate_salary_max
- candidate_relocate
- in_place_or_remote
- candidate_number
- candidate_city
- candidate_name
- years_of_experience
- candidate_type_position
- relocation
- candidate_language
- candidate_degree

- job_title
- job_work_type
- job_country
- job_salary
- job_number

slots:
  in_place_or_remote:
    type: categorical
    values:
    - in_place
    - remote
    mappings:
    - type: from_intent
      intent: remote
      value: remote
    - type: from_intent
      intent: in_place
      value: in_place

  candidate_salary_max:
    type: float
    influence_conversation: true
    min_value: 100
    max_value: 10000000
    mappings:
    - type: from_entity
      entity: candidate_salary_max
      value: candidate_salary_max
      
  candidate_type_position:
    type: categorical
    influence_conversation: true
    values:
    - full_time
    - part_time
    - internship
    mappings:
    - type: from_intent
      intent: full_time
      value: full_time
    - type: from_intent
      intent: part_time
      value: part_time
    - type: from_intent
      intent: internship
      value: internship

  candidate_experience:
    type: categorical
    influence_conversation: true
    values:
    - junior
    - senior
    - expert
    mappings:
    - type: from_intent
      intent: junior
      value: junior
    - type: from_intent
      intent: senior
      value: senior
    - type: from_intent
      intent: expert
      value: expert

  relocation:
    type: categorical
    values:
    - yes
    - no
    mappings:
    - type: from_intent
      intent: affirm
      value: yes
    - type: from_intent
      intent: deny
      value: no

  years_of_experience:
    type: float
    min_value: 0
    max_value: 40
    mappings:
    - type: from_entity
      entity: years_of_experience
      value: years_of_experience

  candidate_number:
    type: text
    mappings:
    - type: from_entity
      entity: candidate_number
      value: candidate_number

  candidate_education:
    type: text
    mappings:
    - type: from_entity
      entity: candidate_education
      value: candidate_education

  candidate_language:
    type: text
    mappings:
    - type: from_entity
      entity: candidate_language
      value: candidate_language

  job_title:
    type: text
    mappings:
    - type: from_entity
      entity: job_title
      value: job_title

  job_work_type:
    type: categorical
    influence_conversation: true
    values:
    - full_time
    - part_time
    - internship
    mappings:
    - type: from_intent
      intent: full_time
      value: full_time
    - type: from_intent
      intent: part_time
      value: part_time
    - type: from_intent
      intent: internship
      value: internship

  job_country:
    type: text
    mappings:
    - type: from_entity
      entity: job_country
      value: job_country

  job_salary:
    type: text
    mappings:
    - type: from_entity
      entity: job_salary
      value: job_salary

  job_number:
    type: text
    mappings:
    - type: from_entity
      entity: job_number
      value: job_number
      
actions:

- action_custom_fallback # custom fallback action to handle the unknown intents

- utter_help
- utter_greet

- utter_ask_in_place_or_remote
- utter_ask_to_know_more_about_candidate
- utter_ask_candidate_characteristics
- utter_ask_candidate_education
- utter_ask_candidate_salary_max  
- utter_ask_candidate_type_position
- utter_ask_candidate_experience
- utter_confirm_candidate_reachout
- utter_ask_relocation
- utter_ask_want_stop_conversation
- utter_ask_need_something_else
- validate_looking_for_candidate_form

- utter_confirmation_searching_for_job
- action_set_job_title
- action_set_job_country
- action_set_job_salary
- validate_looking_for_job_form

- utter_ask_job_title
- utter_ask_job_work_type
- utter_ask_job_country
- utter_ask_job_salary
- utter_ask_job_characteristics
- utter_which_jobs_confirmation

- action_provide_job_profile_details_llm
- utter_which_job_confirmation
- utter_confirmation_job_found

- action_check_confidence
- action_provide_candidate_profile
- action_provide_candidate_profile_details_llm
- action_search_jobs
- action_search_candidates

forms:
  looking_for_candidate_form:
    required_slots:
    # - in_place_or_remote
    - candidate_experience
    - candidate_type_position
    - candidate_salary_max
  
  looking_for_job_form:
    required_slots:
    - job_work_type
    - job_country
    - job_salary

responses:

## greet
  utter_greet:
  - text: Hey! Glad to help you out.

  # - action: utter_greet
  # - action: utter_help
  utter_greet_help:
  - text: Hey! Glad to help you out. Are you looking for a job or a candidate?

## goodbye
  utter_goodbye:
  - text: Bye, it was nice talking to you. See you soon.
  utter_goodbye_candidate:
  - text: Bye. I will reach out him/her and get back to you soon.
  utter_confirm_candidate_reachout:
  - text: Great. I will reach out him/her and get back to you soon.
  utter_ask_want_stop_conversation:
  - text: Or Do you want to stop the conversation?
  utter_ask_need_something_else:
  - text: Do you need something else?

## challenge
  utter_iamabot:
  - text: I am a dialogue system, powered by Rasa.
  utter_bot_goal:
  - text: 'I am a dialogue system, powered by Rasa. I can help you with your job search or candidate search. '

## help
  utter_did_that_help:
  - text: Did that help you?
  utter_help:
  - text: Are you looking for a job? or Are you looking for a candidate?
  utter_feedback:
  - text: Thanks for the feedback. I will use this to improve my services!
  # - action: utter_feedback
  # - action: utter_goodbye
  utter_feedback_goodbye:
  - text: Thanks for the feedback. I will use this to improve my services! Bye, it was nice talking to you. See you soon.
## inform
  utter_ask_in_place_or_remote:
  - text: Would you like a candidate to work in place or remotely?
  utter_ask_to_know_more_about_candidate:
  - text: I can help you with that. Colud you please tell me what kind of candidate are you looking for?
  utter_ask_candidate_characteristics:
  - text: Would you like more details on any of these candidates or do you have specific criteria in mind for the role?
  utter_ask_candidate_education:
  - text: What is the education level of the candidate you are looking for? Bachelors, Masters, PhD or Diploma?
  utter_ask_candidate_salary_max:
  - text: What is the maximum salary you are willing to pay?
  utter_ask_candidate_type_position:
  - text: What type of position are you looking for? Full time, Part time or Internship?
  utter_ask_candidate_experience:
  - text: What is the level of experience of the candidate you are looking for? Junior, Senior or Expert?
  utter_ask_relocation:
  - text: Would you like the candidate to relocate?

  utter_ask_job_title:
   - text: "What is the title of the job you're looking for?"
  utter_ask_job_work_type:
    - text: "Are you looking for a full-time, part-time, or internship job?"
  utter_ask_job_country:
    - text: "In which country are you looking for a job?"
  utter_ask_job_salary:
    - text: "What are your salary expectations for the job? Please provide a numeric value."
  utter_ask_job_characteristics:
    - text: "Please, enter more details you're looking for in your job"

## confirm
  utter_confirmation_searching_for_candidate:
  - text: I have noted down your requirements. Now I am searching for the best candidate for you.
  utter_confirmation_searching_for_candidate_2:
  - text: Wonderful. I have lots of candidates in mind. Let me find the best one for you.
  utter_which_candidate_confirmation:
  - text: Which candidate would you like to know more about? One, Two or Three?
  utter_confirmation_candidate_found:
  - text: Or Do you want to confirm a candidate?
  utter_random_confirmation:
  - text: Certainly!!
  utter_random_confirmation_2:
  - text: Wonderful!!

  utter_confirmation_searching_for_job:
  - text: Wonderful. I have lots of jobs in mind. Let me find the best one for you.
  utter_which_job_confirmation:
  - text: Which job position would you like to know more about? One, Two or Three?
  utter_confirmation_job_found:
  - text: Or Do you want to confirm a job?

  # - action: utter_confirmation_searching_for_candidate_2
  # - action: utter_ask_in_place_or_remote
  utter_confirmation_searching_for_candidate_2_in_place_or_remote:
  - text: Wonderful. I have lots of candidates in mind. Let me find the best one for you. Would you like a candidate to work in place or remotely?

  # - action: utter_random_confirmation
  # - action: utter_help
  utter_random_confirmation_help:
  - text: Certainly!! Are you looking for a job? or Are you looking for a candidate?

  # - action: utter_help
  # - action: utter_ask_want_stop_conversation
  utter_help_ask_want_stop_conversation:
  - text: Are you looking for a job? or Are you looking for a candidate? Or Do you want to stop the conversation?
  
  # - action: utter_confirmation_searching_for_job
  # - action: utter_ask_job_title
  utter_confirmation_searching_for_job_2_ask_job_title:
  - text: Wonderful. I have lots of jobs in mind. Let me find the best one for you. What is the title of the job you're looking for?

  # - action: utter_bot_goal
  # - action: utter_help
  # - action: utter_ask_want_stop_conversation
  utter_bot_goal_help_ask_want_stop_conversation:
  - text: I can help you with your job search or candidate search. Are you looking for a job? or Are you looking for a candidate? Or Do you want to stop the conversation?
  
  # - action: utter_confirm_candidate_reachout
  # - action: utter_did_that_help
  utter_confirm_candidate_reachout_did_that_help:
  - text: Great. I will reach out him/her and get back to you soon. Did that help you?
## excuse
  utter_random_sorry:
  - text: Certainly!! Could you please repeat?
  utter_cheer_up:
  - text: 'Here is something to cheer you up:'
    image: https://i.imgur.com/nGF1K8f.jpg
  utter_happy:
  - text: Great, carry on!


session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
